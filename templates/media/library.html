{% extends "base.html" %}

{% block content %}
  <style>
    /* Grille pour les collections */
    .collections {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        gap: 1rem;
        margin: 2rem 0;
    }
    
    .collection-item {
        border: 1px solid #ddd;
        padding: 1rem;
        border-radius: 8px;
        text-align: center;
    }
    
    .collection-item img {
        max-width: 100%;
        height: auto;
        border-radius: 4px;
    }
    
    /* Formulaire de recherche */
    .search-form {
        display: flex;
        gap: 0.5rem;
        margin: 1rem 0;
    }
    
    .search-form input, .search-form select {
        padding: 0.5rem;
        border: 1px solid #ddd;
        border-radius: 4px;
    }
    
    /* Boutons d'ajout */
    .add-buttons {
        display: flex;
        gap: 2rem;
        margin: 1rem 0;
    }
  </style>
  <h3 style="color: #333">My Library{{ user.username }} !
  </h3>

  <!-- Collections en grille -->
    <h2>Mes Livres</h2>
    <div class="collections">
        {% for book in books %}
        <div class="collection-item">
            {% if book.image %}
                <a href="{% url 'item_detail' model_name='book' item_id=book.id %}">
                    <img src="{{ book.image.url }}" alt="{{ book.title }}">
                </a>
            {% else %}
                <p>{{ book.title }}</p>
                <p><small>{{ book.author }}</small></p>
            {% endif %}
        </div>
        {% endfor %}
    </div>

  <h2>Mes SÃ©ries</h2>
  <div class="collections">
    {% for serie in series %}
      <div class="collection-item">
        {% if serie.image %}
          <a href="{% url 'item_detail' model_name='series' item_id=serie.id %}">
          <img src="{{ serie.image.url }}" alt="{{ serie.title }}" style="height:150px;">
          </a>
        {% else %}
          {{ serie.title }} - {{ serie.author }}
        {% endif %}
        {% if serie.read %}(vu){% endif %}
      </div>
    {% endfor %}
  </div>

  <h2>Mes Films</h2>
  <div class="collections">
    {% for m in movies %}
      <div class="collection-item">
        {% if m.image %}
          <a href="{% url 'item_detail' model_name='movie' item_id=m.id %}">
           <img src="{{ m.image.url }}" alt="{{ m.title }}" style="height:150px;">
          </a>
        {% else %}
          {{ m.title }} - {{ m.director }}
        {% endif %}
      </div>
    {% endfor %}
  </div>

{% endblock %}